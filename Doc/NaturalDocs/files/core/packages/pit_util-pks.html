<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>pit_util.pks</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css" /><script type="text/javascript" src="../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.1.1 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="PIT_UTIL"></a><a name="Topic114"></a><div class="CTopic TClass LSQL first">
 <div class="CTitle">PIT_UTIL</div>
 <div class="CBody"><p>Generic utitilies for PIT.</p><div class="CHeading">Author</div><p>Juergen Sieben, ConDeS GmbH</p><p>Published under MIT licence</p></div>
</div>

<a name="PIT_UTIL.Type_declarations"></a><a name="Topic115"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Type declarations</div>
</div>

<a name="PIT_UTIL.PL/SQL_subtypes"></a><a name="Topic116"></a><div class="CTopic TType LSQL">
 <div class="CTitle">PL/SQL subtypes</div>
 <div class="CBody"><table class="CDefinitionList"><tr><td class="CDLEntry"><a name="PIT_UTIL.c_max_length"></a><a name="Topic117"></a>c_max_length</td><td class="CDLDefinition"><p>Maximum length of strings</p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.ora_name_type"></a><a name="Topic118"></a>ora_name_type</td><td class="CDLDefinition"><p>Name of an Oracle object. 30 byte up to version 11, 128 byte afterwards</p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.flag_type"></a><a name="Topic119"></a>flag_type</td><td class="CDLDefinition"><p>Boolean flag. Type is defined upon installation of PIT. Must be &quot;SQL savvy&quot;</p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.max_char"></a><a name="Topic120"></a>max_char</td><td class="CDLDefinition"><p>32 KByte Varchar2</p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.max_sql_char"></a><a name="Topic121"></a>max_sql_char</td><td class="CDLDefinition"><p>Maximium SQL VARCHAR2 legnth. As extended char length is stored as a length delimited CLOB, MAX_SQL_CHAR is still set to 4000 byte. Use CLOB otherwise</p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.small_char"></a><a name="Topic122"></a>small_char</td><td class="CDLDefinition"><p>VARCHAR2 with 255 byte length</p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.sign_type"></a><a name="Topic123"></a>sign_type</td><td class="CDLDefinition"><p>One character, used for signs apart from boolean flags</p></td></tr></table></div>
</div>

<a name="PIT_UTIL.Data_types"></a><a name="Topic124"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Data types</div>
</div>

<a name="PIT_UTIL.context_type"></a><a name="Topic125"></a><div class="CTopic TType LSQL">
 <div class="CTitle">context_type</div>
 <div class="CBody"><p>Record to store log and trace settings</p><div class="CHeading">Properties</div><table class="CDefinitionList"><tr><td class="CDLEntry">context_name</td><td class="CDLDefinition"><p>Name of the context, is used to identify a stored context</p></td></tr><tr><td class="CDLEntry">settings</td><td class="CDLDefinition"><p>Condensed string with settings for log/trace level, flag_timing and module list</p></td></tr><tr><td class="CDLEntry">log_level</td><td class="CDLDefinition"><p>On of the C_LEVEL constants, controls logging</p></td></tr><tr><td class="CDLEntry">trace_level</td><td class="CDLDefinition"><p>On of the C_TRACE constants, controls tracing</p></td></tr><tr><td class="CDLEntry">trace_timing</td><td class="CDLDefinition"><p>Flag to control whether timing information for methods are calculated</p></td></tr><tr><td class="CDLEntry">module_list</td><td class="CDLDefinition"><p>Colon separated list of output modules</p></td></tr><tr><td class="CDLEntry">allow_toggle</td><td class="CDLDefinition"><p>Flag to indicate whether logging can be switched on and off based on package names (toggles)</p></td></tr><tr><td class="CDLEntry">broadcast_context_switch</td><td class="CDLDefinition"><p>Flag to indicate whether a context switch should be broadcasted to all instantiated output modules</p></td></tr><tr><td class="CDLEntry">ctx_changed</td><td class="CDLDefinition"><p>Flag to indicate whether context has changed in comparison to actual context</p></td></tr></table></div>
</div>

<a name="PIT_UTIL.named_ctx_list_tab"></a><a name="Topic126"></a><div class="CTopic TType LSQL">
 <div class="CTitle">named_ctx_list_tab</div>
 <div class="CBody"><p>List of <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.context_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,125);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CONTEXT_TYPE</a> indexed by <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.ora_name_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,118);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ORA_NAME_TYPE</a></p></div>
</div>

<a name="PIT_UTIL.translatable_item_rec"></a><a name="Topic127"></a><div class="CTopic TType LSQL">
 <div class="CTitle">translatable_item_rec</div>
 <div class="CBody"><p>Record to grant access to a translatable item</p><div class="CHeading">Properties</div><table class="CDefinitionList"><tr><td class="CDLEntry">pti_name</td><td class="CDLDefinition"><p>Technical or internal name</p></td></tr><tr><td class="CDLEntry">pti_display_name</td><td class="CDLDefinition"><p>more descriptive name, used for UI purposes</p></td></tr><tr><td class="CDLEntry">pti_description</td><td class="CDLDefinition"><p>Additional description or help text</p></td></tr></table></div>
</div>

<a name="PIT_UTIL.Exceptions"></a><a name="Topic128"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Exceptions</div>
 <div class="CBody"><p>Don't use PIT messages here as PIT may not be initialized yet.</p></div>
</div>

<a name="PIT_UTIL.Common_constants"></a><a name="Topic129"></a><div class="CTopic TConstant LSQL">
 <div class="CTitle">Common constants</div>
 <div class="CBody"><p>Some constants are implemented as functions to allow access from SQL</p><table class="CDefinitionList"><tr><td class="CDLEntry"><a name="PIT_UTIL.C_TRUE"></a><a name="Topic130"></a>C_TRUE</td><td class="CDLDefinition"><p>Boolean flag TRUE, <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.flag_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,119);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >flag_type</a></p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.C_FALSE"></a><a name="Topic131"></a>C_FALSE</td><td class="CDLDefinition"><p>Boolean flag FALSE, <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.flag_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,119);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >flag_type</a></p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.C_DEFAULT_LANGUAGE"></a><a name="Topic132"></a>C_DEFAULT_LANGUAGE</td><td class="CDLDefinition"><p>Oracle name of the default language. Is defined during installation of PIT</p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.C_DEFAULT_CONTEXT"></a><a name="Topic133"></a>C_DEFAULT_CONTEXT</td><td class="CDLDefinition"><p>Name of the default context</p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.C_ACTIVE_CONTEXT"></a><a name="Topic134"></a>C_ACTIVE_CONTEXT</td><td class="CDLDefinition"><p>Name of the active context</p></td></tr><tr><td class="CDLEntry"><a name="PIT_UTIL.C_PARAMETER_GROUP"></a><a name="Topic135"></a>C_PARAMETER_GROUP</td><td class="CDLDefinition"><p>Name of the PIT parameter group</p></td></tr></table></div>
</div>

<a name="PIT_UTIL.Public_getter_methods"></a><a name="Topic136"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Public getter methods</div>
</div>

<a name="PIT_UTIL.get_call_stack"></a><a name="Topic137"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_call_stack</div>
 <div id="NDPrototype137" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> get_call_stack</div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Wrapper around UTL_CALL_STACK to get the call stack</p><div class="CHeading">Returns</div><p>formatted call stack.</p></div>
</div>

<a name="PIT_UTIL.get_error_name"></a><a name="Topic138"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_error_name</div>
 <div id="NDPrototype138" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> get_error_name(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_pms_name&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> pit_message.pms_name<span class="SHKeyword">%type</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Helper to create the name for an exception constant in package <a href="../../../index.html#File:core/packages/msg.pks:MSG" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,64);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG</a>.&nbsp; Name is formed on the basis of params ERROR_PREFIX and ERROR_POSTFIX</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_pms_name<div class="CDLParameterType"><span class="SHKeyword">in</span> pit_message.pms_name<span class="SHKeyword">%type</span></div></td><td class="CDLDefinition"><p>Name of the message to create the exception name for</p></td></tr></table><div class="CHeading">Returns</div><p>Exception name.</p></div>
</div>

<a name="PIT_UTIL.get_error_stack"></a><a name="Topic139"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_error_stack</div>
 <div id="NDPrototype139" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> get_error_stack</div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Wrapper around UTL_CALL_STACK to get the call stack</p><div class="CHeading">Returns</div><p>formatted error stack.</p></div>
</div>

<a name="PIT_UTIL.get_module_and_action"></a><a name="Topic140"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_module_and_action</div>
 <div id="NDPrototype140" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> get_module_and_action(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_module&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_action&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> <span class="SHKeyword">varchar2</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Reads module and action from UTL_CALL_STACK</p><p>Should p_module and/or p_action be null, &lt;UTL_CALL_STACK&gt; is called to get the respective information.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_module<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Module that was called</p></td></tr><tr><td class="CDLEntry">p_action<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Method with module that was called</p></td></tr></table></div>
</div>

<a name="PIT_UTIL.get_user"></a><a name="Topic141"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_user</div>
 <div id="NDPrototype141" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> get_user</div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.ora_name_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,118);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ora_name_type</a></div></div>
 <div class="CBody"><p>Getter for SYS.STANDARD-USER to avoid SQL environment changes</p></div>
</div>

<a name="PIT_UTIL.Text_helper_methods"></a><a name="Topic142"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Text helper methods</div>
</div>

<a name="PIT_UTIL.bulk_replace"></a><a name="Topic143"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">bulk_replace</div>
 <div id="NDPrototype143" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> bulk_replace(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_string&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_chunks&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/types/char_table.tps:char_table" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,40);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >char_table</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Helper to bulk-replace chunks in a text. Is called to replace more replacement anchors at once</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_string<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Text with replacement anchors</p></td></tr><tr><td class="CDLEntry">p_chunks<div class="CDLParameterType"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/types/char_table.tps:char_table" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,40);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >char_table</a></div></td><td class="CDLDefinition"><p>List of chars for replacement</p></td></tr></table><div class="CHeading">Returns</div><p>&lt;p_string&gt; with replacements</p></div>
</div>

<a name="PIT_UTIL.clob_append"></a><a name="Topic144"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">clob_append</div>
 <div id="NDPrototype144" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> clob_append(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_clob&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> <span class="SHKeyword">clob</span>,</td></tr><tr><td class="PName first">p_chunk&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">clob</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Helper to append CLOB. Wrapper for DBMS_LOB.APPEND that takes care to instantiate P_CLOB if it's not yet there and append only if P_CHUNK is not null</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_clob<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> <span class="SHKeyword">clob</span></div></td><td class="CDLDefinition"><p>CLOB instance to append P_CHUNK to</p></td></tr><tr><td class="CDLEntry">p_chunk<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">clob</span></div></td><td class="CDLDefinition"><p>CLOB instance to append to P_CLOB</p></td></tr></table></div>
</div>

<a name="PIT_UTIL.concatenate"></a><a name="Topic145"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">concatenate</div>
 <div id="NDPrototype145" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> concatenate(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_chunk_list&nbsp;</td><td class="PType"><a href="../../../index.html#File:core/types/char_table.tps:char_table" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,40);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >char_table</a>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_delimiter&nbsp;</td><td class="PType"><span class="SHKeyword">varchar2</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_keep_null&nbsp;</td><td class="PType"><span class="SHKeyword">boolean</span></td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last">true</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Helper to concatenate text.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_text_list</td><td class="CDLDefinition"><p><a href="../../../index.html#File:core/types/char_table.tps:char_table" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,40);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CHAR_TABLE</a> instance with the text chunks to concatenate</p></td></tr><tr><td class="CDLEntry">p_delimiter<div class="CDLParameterType"><span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Delimiter to separate the chunks</p></td></tr><tr><td class="CDLEntry">p_keep_null<div class="CDLParameterType"><span class="SHKeyword">boolean</span></div></td><td class="CDLDefinition"><p>Flag to indicate whether NULL values are kept (ie as delimiter is inserted (default) or not</p></td></tr></table></div>
</div>

<a name="PIT_UTIL.harmonize_sql_name"></a><a name="Topic146"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">harmonize_sql_name</div>
 <div id="NDPrototype146" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> harmonize_sql_name(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_name&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_prefix&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last"><span class="SHKeyword">null</span>,</td></tr><tr><td class="PName first">p_max_length&nbsp;</td><td class="PType"><span class="SHKeyword">number</span></td><td class="PDefaultValueSeparator">&nbsp;<span class="SHKeyword">default</span>&nbsp;</td><td class="PDefaultValue last"><span class="SHKeyword">null</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Helper function to convert a SQL primary key name according to the naming convention.&nbsp; Is called to harmonize the naming of alphanumeric primary key items.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_name<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Name to harmonize</p></td></tr><tr><td class="CDLEntry">p_prefix<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Optional prefix for the resulting name</p></td></tr><tr><td class="CDLEntry">p_max_length<div class="CDLParameterType"><span class="SHKeyword">number</span></div></td><td class="CDLDefinition"><p>Optional length limitation. If ommitted, the name will be cropped to fit into C_MAX_LENGTH limit</p></td></tr></table><div class="CHeading">Returns</div><p>Converted name. The following rules apply:</p><ul><li><p>length limit <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.c_max_length" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,117);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >C_MAX_LENGTH</a> byte</p></li><li><p>upper case</p></li><li><p>no whitespace, only underscores</p></li><li><p>must be a DBMS_ASSERT.ASSERT_SIMPLE_SQL_NAME</p></li></ul></div>
</div>

<a name="PIT_UTIL.harmonize_name"></a><a name="Topic147"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">harmonize_name</div>
 <div id="NDPrototype147" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> harmonize_name(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_prefix&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_name&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Helper function to harmonize a given name.&nbsp; &lt;P_NAME&gt; will be uppercased and &lt;P_PREFIX&gt; prefixes &lt;P_NAME&gt;</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_name<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Name to harmonize</p></td></tr><tr><td class="CDLEntry">p_prefix<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Prefix that should exist once before the name</p></td></tr></table><div class="CHeading">Returns</div><p>Harmonized name</p></div>
</div>

<a name="PIT_UTIL.Validation_helper_methods"></a><a name="Topic148"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Validation helper methods</div>
</div>

<a name="PIT_UTIL.check_context_settings"></a><a name="Topic149"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">check_context_settings</div>
 <div id="NDPrototype149" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> check_context_settings(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_context_name&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.ora_name_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,118);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ora_name_type</a>,</td></tr><tr><td class="PName first">p_settings&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Helper to validate named context settings. Is called to verify that entered settings are correct.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_context_name<div class="CDLParameterType"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.ora_name_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,118);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ora_name_type</a></div></td><td class="CDLDefinition"><p>Name of the context to check</p></td></tr><tr><td class="CDLEntry">p_settings<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Settings for the named context</p></td></tr></table></div>
</div>

<a name="PIT_UTIL.check_toggle_settings"></a><a name="Topic150"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">check_toggle_settings</div>
 <div id="NDPrototype150" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> check_toggle_settings(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_toggle_name&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.ora_name_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,118);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ora_name_type</a>,</td></tr><tr><td class="PName first">p_module_list&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_context_name&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.ora_name_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,118);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ora_name_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Helper to validate toggle settings.&nbsp; Is called from PIT_ADMIN.CREATE_CONTEXT_TOGGLE to validate settings</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_toggle_name<div class="CDLParameterType"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.ora_name_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,118);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ora_name_type</a></div></td><td class="CDLDefinition"><p>Name of the toggle to check</p></td></tr><tr><td class="CDLEntry">p_module_list<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>List of code blocks which toggle context settings</p></td></tr><tr><td class="CDLEntry">p_context_name<div class="CDLParameterType"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.ora_name_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,118);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ora_name_type</a></div></td><td class="CDLDefinition"><p>Name of the named context to toggle to</p></td></tr></table><div class="CHeading">Errors</div><p>pit_util.invalid_sql_name -Toggle name must adhere to the SQL naming conventions pit_util.context_missing - Referenced context does not exist pit_util.name_too_long - The maximum length of a toggle name was exceeded</p></div>
</div>

<a name="PIT_UTIL.Conversion_methods"></a><a name="Topic151"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Conversion methods</div>
</div>

<a name="PIT_UTIL.cast_to_msg_args_char"></a><a name="Topic152"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">cast_to_msg_args_char</div>
 <div id="NDPrototype152" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> cast_to_msg_args_char(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_msg_args&nbsp;</td><td class="PType last"><a href="../../../index.html#File:core/types/msg_args.tps:msg_args" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,15);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >msg_args</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <a href="../../../index.html#File:core/types/msg_args_char.tps:msg_args_char" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >msg_args_char</a></div></div>
 <div class="CBody"><p>Methods to cast an instance of type <a href="../../../index.html#File:core/types/msg_args.tps:msg_args" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,15);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG_ARGS</a> to <a href="../../../index.html#File:core/types/msg_args_char.tps:msg_args_char" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG_ARGS_CHAR</a>.</p><p>Is called to allow to store &lt;MSG_ARGS&gt;-instances in tables (which is not supported for VARRAY(CLOB)).</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_msg_args<div class="CDLParameterType"><a href="../../../index.html#File:core/types/msg_args.tps:msg_args" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,15);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >msg_args</a></div></td><td class="CDLDefinition"><p>Instance of type <a href="../../../index.html#File:core/types/msg_args.tps:msg_args" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,15);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG_ARGS</a></p></td></tr></table><div class="CHeading">Returns</div><p>Instance of <a href="../../../index.html#File:core/types/msg_args_char.tps:msg_args_char" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG_ARGS_CHAR</a> with the content of &lt;&gt;MSG_ARGS&gt; (abbreviated to max 4000 byte per entry)</p></div>
</div>

<a name="PIT_UTIL.cast_to_msg_args"></a><a name="Topic153"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">cast_to_msg_args</div>
 <div id="NDPrototype153" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> cast_to_msg_args(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_msg_args&nbsp;</td><td class="PType last"><a href="../../../index.html#File:core/types/msg_args_char.tps:msg_args_char" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >msg_args_char</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <a href="../../../index.html#File:core/types/msg_args.tps:msg_args" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,15);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >msg_args</a></div></div>
 <div class="CBody"><p>Methods to cast an instance of type <a href="../../../index.html#File:core/types/msg_args_char.tps:msg_args_char" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG_ARGS_CHAR</a> to <a href="../../../index.html#File:core/types/msg_args.tps:msg_args" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,15);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG_ARGS</a>.</p><p>Is called to instantiate messages which require the message arguments to be of type <a href="../../../index.html#File:core/types/msg_args.tps:msg_args" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,15);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG_ARGS</a>.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_msg_args<div class="CDLParameterType"><a href="../../../index.html#File:core/types/msg_args_char.tps:msg_args_char" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >msg_args_char</a></div></td><td class="CDLDefinition"><p>Instance of type <a href="../../../index.html#File:core/types/msg_args_char.tps:msg_args_char" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,13);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG_ARGS_CHAR</a></p></td></tr></table><div class="CHeading">Returns</div><p>Instance of <a href="../../../index.html#File:core/types/msg_args.tps:msg_args" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,15);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG_ARGS</a> with the content of &lt;&gt;MSG_ARGS_CHAR&gt;</p></div>
</div>

<a name="PIT_UTIL.context_type_to_string"></a><a name="Topic154"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">context_type_to_string</div>
 <div id="NDPrototype154" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> context_type_to_string(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_settings&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.context_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,125);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >context_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>Method to cast an instance of <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.context_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,125);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CONTEXT_TYPE</a> to VARCHAR2</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_settings<div class="CDLParameterType"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.context_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,125);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >context_type</a></div></td><td class="CDLDefinition"><p>Only enough attributes to allow for storage within the context are put together.</p></td></tr></table><div class="CHeading">Returns</div><p>String with a pipe separated list of DEBUG_LEVEL|TRACE_LEVEL|TIMING_FLAG|MODULE_LIST</p></div>
</div>

<a name="PIT_UTIL.string_to_context_type"></a><a name="Topic155"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">string_to_context_type</div>
 <div id="NDPrototype155" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> string_to_context_type(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_context_values&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_context&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.context_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,125);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >context_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method to cast a context value read from the globally accessed context to a context type record.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_context_values<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>String as read from &lt;UTL_CONTEXT.get_first_match&gt; or from call stack</p></td></tr><tr><td class="CDLEntry">p_context<div class="CDLParameterType"><span class="SHKeyword">in out nocopy</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.context_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,125);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >context_type</a></div></td><td class="CDLDefinition"><p>Instance of <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.context_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,125);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >CONTEXT_TYPE</a></p></td></tr></table></div>
</div>

<a name="PIT_UTIL.string_to_table"></a><a name="Topic156"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">string_to_table</div>
 <div id="NDPrototype156" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> string_to_table(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_string_value&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td><td></td><td class="last"></td></tr><tr><td class="PName first">p_delimiter&nbsp;</td><td class="PType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></td><td class="PDefaultValueSeparator">&nbsp;:=&nbsp;</td><td class="PDefaultValue last"><span class="SHString">':'</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <a href="../../../index.html#File:core/types/args.tps:args" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,19);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >args</a></div></div>
 <div class="CBody"><p>Helper to convert a string with a given separator into an instance of type ARGS.&nbsp; Internal helper to split a string into an array of chars.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_string_value<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>List of items to be split</p></td></tr><tr><td class="CDLEntry">p_delimiter<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Optional character that separates the items in &lt;p_string_value&gt;. Defaults to colon (:)</p></td></tr></table><div class="CHeading">Returns</div><p>Array of items (up to 50) of VARCHAR2</p></div>
</div>

<a name="PIT_UTIL.to_bool"></a><a name="Topic157"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">to_bool</div>
 <div id="NDPrototype157" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> to_bool(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_boolean&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">boolean</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.flag_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,119);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >flag_type</a></div></div>
 <div class="CBody"><p>Method to convert a boolean to a bool flag of type FLAG_TYPE.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_boolean<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">boolean</span></div></td><td class="CDLDefinition"><p>Boolean type value</p></td></tr></table><p>Returns: Boolean value as <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.flag_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,119);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >flag_type</a></p></div>
</div>

<a name="PIT_UTIL.to_bool(2)"></a><a name="Topic158"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">to_bool</div>
 <div id="NDPrototype158" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> to_bool(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_boolean&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.flag_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,119);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >flag_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">boolean</span></div></div>
 <div class="CBody"><p>Method to convert a boolean to a bool flag of type FLAG_TYPE.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_boolean<div class="CDLParameterType"><span class="SHKeyword">in</span> <a href="../../../index.html#File:core/packages/pit_util.pks:PIT_UTIL.flag_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,119);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >flag_type</a></div></td><td class="CDLDefinition"><p>&lt;-flag_type&gt; boolean value</p></td></tr></table><p>Returns: Value as boolean</p></div>
</div>

<a name="PIT_UTIL.Other_helper_methods"></a><a name="Topic159"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Other helper methods</div>
</div>

<a name="PIT_UTIL.recompile_invalid_objects"></a><a name="Topic160"></a><div class="CTopic TFunction LSQL last">
 <div class="CTitle">recompile_invalid_objects</div>
 <div id="NDPrototype160" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">procedure</span> recompile_invalid_objects</div></div>
 <div class="CBody"><p>Procedure to recompile invalid objects.</p><p>Called internally when recreating <a href="../../../index.html#File:core/packages/msg.pks:MSG" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,64);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG</a> package to recompile packages with dependencies on <a href="../../../index.html#File:core/packages/msg.pks:MSG" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,64);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MSG</a></p></div>
</div>

</body></html>