<!DOCTYPE html>

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>PIT_APEX_PKG Body</title><link rel="stylesheet" type="text/css" href="../../../../styles/main.css" /><script type="text/javascript" src="../../../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Topic919"></a><div class="CTopic TClass LSQL first">
 <div class="CTitle"><span class="Qualifier">Output Modules.&#8203;PIT_APEX.</span>&#8203;PIT_APEX_PKG Body</div>
 <div class="CBody"><p>Implements PIT_APEX output module methods</p><div class="CHeading">Author</div><p>Juergen Sieben, ConDeS GmbH</p><p>Published under MIT licence</p></div>
</div>

<a name="Package_Constants"></a><a name="Topic920"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Package Constants</div>
</div>

<a name="Parameter_Constants"></a><a name="Topic921"></a><div class="CTopic TConstant LSQL">
 <div class="CTitle">Parameter Constants</div>
 <div class="CBody"><table class="CDefinitionList"><tr><td class="CDLEntry"><a name="C_PARAM_GROUP"></a><a name="Topic922"></a>C_PARAM_GROUP</td><td class="CDLDefinition"><p>Parameter group of <a href="../../../../index.html#SQLClass:PIT" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,560);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PIT</a></p></td></tr><tr><td class="CDLEntry"><a name="C_APEX_CONTEXT"></a><a name="Topic923"></a>C_APEX_CONTEXT</td><td class="CDLDefinition"><p>Parameter name for the log context to switch to when APEX is in debug mode</p></td></tr><tr><td class="CDLEntry"><a name="C_FIRE_THRESHOLD"></a><a name="Topic924"></a>C_FIRE_THRESHOLD</td><td class="CDLDefinition"><p>Parameter name for the generic fire threshold</p></td></tr><tr><td class="CDLEntry"><a name="C_TRG_FIRE_THRESHOLD"></a><a name="Topic925"></a>C_TRG_FIRE_THRESHOLD</td><td class="CDLDefinition"><p>Parameter name for the APEX context fire threshold</p></td></tr><tr><td class="CDLEntry"><a name="C_TRG_TRACE_THRESHOLD"></a><a name="Topic926"></a>C_TRG_TRACE_THRESHOLD</td><td class="CDLDefinition"><p>Parameter name for the APEX context trace threshold</p></td></tr><tr><td class="CDLEntry"><a name="C_TRG_TRACE_TIMING"></a><a name="Topic927"></a>C_TRG_TRACE_TIMING</td><td class="CDLDefinition"><p>Parameter name for the context trace timing flag</p></td></tr><tr><td class="CDLEntry"><a name="C_TRG_LOG_MODULES"></a><a name="Topic928"></a>C_TRG_LOG_MODULES</td><td class="CDLDefinition"><p>Parameter name for the context log module list</p></td></tr><tr><td class="CDLEntry"><a name="C_WEB_SOCKET_SERVER"></a><a name="Topic929"></a>C_WEB_SOCKET_SERVER</td><td class="CDLDefinition"><p>Parameter name for the websocket server (not yet functional!)</p></td></tr></table></div>
</div>

<a name="Helper_methods"></a><a name="Topic930"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Helper methods</div>
</div>

<a name="initialize"></a><a name="Topic931"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">initialize</div>
 <div id="NDPrototype931" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">procedure</span> initialize</div></div>
 <div class="CBody"><p>Helper method to read parameter values into global package variables. Is called from <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX_PKG_Body:initialize_module" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,946);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >INITIALIZE_MODULE</a> method.</p></div>
</div>

<a name="set_http_header"></a><a name="Topic932"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">set_http_header</div>
 <div id="NDPrototype932" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> set_http_header(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_title&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span>,</td></tr><tr><td class="PName first">p_message&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">clob</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method sets http header when addressing the web socket connection. For future release, not yet functional.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_title<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">varchar2</span></div></td><td class="CDLDefinition"><p>Title of the notification</p></td></tr><tr><td class="CDLEntry">p_message<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">clob</span></div></td><td class="CDLDefinition"><p>Message of the notification</p></td></tr></table></div>
</div>

<a name="valid_environment"></a><a name="Topic933"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">valid_environment</div>
 <div id="NDPrototype933" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> valid_environment</div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">boolean</span></div></div>
 <div class="CBody"><p>Method checks whether module is called within a valid APEX session environment.&nbsp; Is called from any public method to prevent useless execution of no APEX environment is available.</p><div class="CHeading">Returns</div><p>Flag to indicate whether a valid APEX session environment exists (TRUE) or not (FALSE)</p></div>
</div>

<a name="debug_message"></a><a name="Topic934"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">debug_message</div>
 <div id="NDPrototype934" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> debug_message(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_message&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../../index.html#File:core/types/message_type.tps:message_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,157);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >message_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method forwards messages to the APEX debug stack.&nbsp; PIT severity is mapped to APEX severity and message transformed into plain string.&nbsp; Emits data, if ...</p><ul><li><p>Valid APEX environment exists</p></li><li><p>log_level PIT_APEX_FIRE_THRESHOLD is reached</p></li><li><p>APEX logging is activated</p></li></ul><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_message<div class="CDLParameterType"><span class="SHKeyword">in</span> <a href="../../../../index.html#File:core/types/message_type.tps:message_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,157);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >message_type</a></div></td><td class="CDLDefinition"><p>Instance of <a href="../../../../index.html#File:core/types/message_type.tps:message_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,157);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MESSAGE_TYPE</a></p></td></tr></table></div>
</div>

<a name="log_error"></a><a name="Topic935"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">log_error</div>
 <div id="NDPrototype935" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> log_error(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_message&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../../index.html#File:core/types/message_type.tps:message_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,157);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >message_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method adds error messages to the apex error stack.&nbsp; It tries to find the item label and replaces the anchor with the actual label and shows the exception with reference to the affected id.&nbsp; Emits data, if ...</p><ul><li><p>Valid APEX environment exists</p></li><li><p>&lt;P_MESSAGE.AFFECTED_ID&gt; is set and the message contains anchor #ITEM_LABEL#</p></li><li><p>log_level &lt;PIT_APEX_FIRE_THRESHOLD&gt; is reached</p></li><li><p>APEX logging is activated</p></li></ul><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_message<div class="CDLParameterType"><span class="SHKeyword">in</span> <a href="../../../../index.html#File:core/types/message_type.tps:message_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,157);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >message_type</a></div></td><td class="CDLDefinition"><p>Instance of <a href="../../../../index.html#File:core/types/message_type.tps:message_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,157);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >MESSAGE_TYPE</a></p></td></tr></table></div>
</div>

<a name="print_clob"></a><a name="Topic936"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">print_clob</div>
 <div id="NDPrototype936" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> print_clob(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_text&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <span class="SHKeyword">clob</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>Method passes a CLOB text to APEX, using HTP.P.&nbsp; CLOB is splitted into chunks of &lt;C_CHUNK_SIZE&gt; bytes to circumvent the limitation of http streams of 32 KByte.</p><div class="CHeading">Parameter</div><table class="CDefinitionList"><tr><td class="CDLEntry">p_text<div class="CDLParameterType"><span class="SHKeyword">in</span> <span class="SHKeyword">clob</span></div></td><td class="CDLDefinition"><p>CLOB instance to pass to APEX</p></td></tr></table></div>
</div>

<a name="Interfacce"></a><a name="Topic937"></a><div class="CTopic TGroup LSQL">
 <div class="CTitle">Interfacce</div>
</div>

<a name="get_apex_triggered_context"></a><a name="Topic938"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">get_apex_triggered_context</div>
 <div id="NDPrototype938" class="NDPrototype"><div class="PSection PPlainSection"><span class="SHKeyword">function</span> get_apex_triggered_context</div><div class="PSection PPlainSection"><span class="SHKeyword">return</span> <span class="SHKeyword">varchar2</span></div></div>
 <div class="CBody"><p>see <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX_PKG:get_apex_triggered_context" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,910);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PIT_APEX_PKG.get_apex_triggered_context</a></p></div>
</div>

<a name="tweet"></a><a name="Topic939"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">tweet</div>
 <div id="NDPrototype939" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> tweet(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_message&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../../index.html#File:core/types/message_type.tps:message_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,157);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >message_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>see <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX_PKG:tweet" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,911);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PIT_APEX_PKG.tweet</a></p></div>
</div>

<a name="log"></a><a name="Topic940"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">log</div>
 <div id="NDPrototype940" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> log(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_message&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../../index.html#File:core/types/message_type.tps:message_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,157);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >message_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>see <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX_PKG:log" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,912);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PIT_APEX_PKG.log</a></p></div>
</div>

<a name="log(2)"></a><a name="Topic941"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">log</div>
 <div id="NDPrototype941" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> log(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_log_state&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> pit_log_state_type</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>see <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX_PKG:log" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,912);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PIT_APEX_PKG.log</a></p></div>
</div>

<a name="print"></a><a name="Topic942"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">print</div>
 <div id="NDPrototype942" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> print(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_message&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../../index.html#File:core/types/message_type.tps:message_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,157);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >message_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>see <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX_PKG:print" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,914);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PIT_APEX_PKG.print</a></p></div>
</div>

<a name="notify"></a><a name="Topic943"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">notify</div>
 <div id="NDPrototype943" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> notify(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_message&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../../index.html#File:core/types/message_type.tps:message_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,157);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >message_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>see <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX_PKG:notify" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,915);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PIT_APEX_PKG.notify</a></p></div>
</div>

<a name="enter"></a><a name="Topic944"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">enter</div>
 <div id="NDPrototype944" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> enter(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_call_stack&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../../index.html#File:core/types/pit_call_stack_type.tps:pit_call_stack_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,122);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >pit_call_stack_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>see <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX_PKG:enter" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,916);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PIT_APEX_PKG.enter</a></p></div>
</div>

<a name="leave"></a><a name="Topic945"></a><div class="CTopic TFunction LSQL">
 <div class="CTitle">leave</div>
 <div id="NDPrototype945" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> leave(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">p_call_stack&nbsp;</td><td class="PType last"><span class="SHKeyword">in</span> <a href="../../../../index.html#File:core/types/pit_call_stack_type.tps:pit_call_stack_type" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,122);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >pit_call_stack_type</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>see <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX_PKG:leave" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,917);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PIT_APEX_PKG.leave</a></p></div>
</div>

<a name="initialize_module"></a><a name="Topic946"></a><div class="CTopic TFunction LSQL last">
 <div class="CTitle">initialize_module</div>
 <div id="NDPrototype946" class="NDPrototype WideForm"><div class="PSection PParameterSection PascalStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">procedure</span> initialize_module(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">self&nbsp;</td><td class="PType last"><span class="SHKeyword">in out nocopy</span> <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,894);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >pit_apex</a></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div></div>
 <div class="CBody"><p>see <a href="../../../../index.html#SQLClass:Output_Modules.PIT_APEX.PIT_APEX_PKG:initialize_module" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,918);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >PIT_APEX_PKG.initialize_module</a></p></div>
</div>

</body></html>